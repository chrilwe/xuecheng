<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.xuecheng.ucenter.mapper.XcUserMapper">
	<select id="findByUserName" parameterType="String"
		resultType="com.xuecheng.framework.domain.ucenter.XcUser">
		select
		id,username,password,salt,name,utype,birthday,userpic,sex,email,phone,status,create_time
		as createTime,update_time as updateTime from xc_user where
		username=#{username}
	</select>
	<select id="findXcMenuByUserName" parameterType="String" resultType="com.xuecheng.framework.domain.ucenter.XcMenu">
		select * from xc_menu where id in (select menu_id from
		xc_permission where role_id in (select role_id from xc_user_role where
		user_id in(select id from xc_user where username=#{username})))
	</select>
	
</mapper>